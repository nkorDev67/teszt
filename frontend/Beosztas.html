<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Balatoni Vityilló</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</head>
<body>
    <nav class="navbar">
        <ul>  
            <li> <a href="HomePage.html">Home</a></li>
            <li class="dropdown">
                <a href="javascript:void(0)" class="dropbtn">Bérlés</a>
                <div class="dropdown-content">
                    <a href="BerbeAdas.html">Bérbe adás</a>
                    <a href="Berles.html">Bérlés</a>
                </div>
            </li>
            <li class="dropdown">
                <a href="javascript:void(0)" class="dropbtn">Ingatlan</a>
                <div class="dropdown-content">
                    <a href="Adas.html">Adás</a>
                    <a href="Vetel.html">Vétel</a>
                </div>
            </li>
            <li class="dropdown">
                <a href="javascript:void(0)" class="dropbtn">Felújítás</a>
                <div class="dropdown-content">
                    <a href="Arajanlat.html">Árajánlat</a>
                    <a href="Felujitaskerese.html">Felújítás kérése</a>
                </div>
            </li>
            <li> <a href="Beosztas.html">Beosztás</a></li>   
            <li> <a href="Profil.html">Profil</a></li>
        </ul>
    </nav>
    
    <h1>Balatoni Vityilló</h1>
    
    <main class="container mt-4">
        <div id="beosztas-kontener">
            <div class="text-center">
                <p>Adatok betöltése...</p>
            </div>
        </div>
    </main>

    <script>
        // Ez szimulálja a bejelentkezett felhasználót és a beosztást
        const bejelentkezettFelhasznalo = {
            szerepkor: "munkas", // Itt lehetne 'ugyfel' is
            nev: "Kovács János"
        };

        // Szimulált beosztás adatok
        const munkak = [
            {
                tipus: "Festés",
                cim: "8600 Siófok, Petőfi sétány 12.",
                kezdet: "2024.05.20. 08:00",
                vege: "2024.05.22. 16:00"
            }
        ];

        function beosztasMegjelenites() {
            const kontener = document.getElementById('beosztas-kontener');
            
            if (bejelentkezettFelhasznalo.szerepkor === "munkas") {
                let html = `
                    <div class="card shadow border-primary">
                        <div class="card-header bg-primary text-white">
                            <h3 class="mb-0">Aktuális Beosztásod</h3>
                        </div>
                        <div class="card-body">
                            <p>Üdvözöljük, <strong>${bejelentkezettFelhasznalo.nev}</strong>! Az alábbi felújítási munkára vagy beosztva:</p>
                            <hr>
                            ${munkak.map(munka => `
                                <div class="mb-3 p-3 bg-light rounded border-start border-4 border-success">
                                    <h4 class="text-success">${munka.tipus}</h4>
                                    <p><strong>Helyszín:</strong> ${munka.cim}</p>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <p><strong>Munkavégzés kezdete:</strong><br> ${munka.kezdet}</p>
                                        </div>
                                        <div class="col-md-6">
                                            <p><strong>Várható befejezés:</strong><br> ${munka.vege}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                kontener.innerHTML = html;
            } else {
                kontener.innerHTML = `
                    <div class="alert alert-info text-center">
                        <h3>Nincs aktív munkabeosztásod.</h3>
                        <p>Ez az oldal csak munkatársaink számára érhető el.</p>
                    </div>
                `;
            }
        }

        // Oldal betöltésekor futtatjuk
        window.onload = beosztasMegjelenites;
    </script>
</body>
</html>